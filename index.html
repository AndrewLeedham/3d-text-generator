<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3D Text Generator</title>
    <style>
        body{
            margin: 0;
            overflow: hidden;
        }
        canvas{
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.min.js"></script>
    <script>
        var Game = Game || {};
        Game.init = function(callback){

        Game.scene = new THREE.Scene();

        Game.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

        Game.renderer = new THREE.WebGLRenderer();
        Game.renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(Game.renderer.domElement);

        Game.font = undefined;
        var loader = new THREE.FontLoader();

        loader.load("https://codepen.io/AndrewLeedham/pen/GNpgrq.js", function(response){
            Game.font = response;
            Game.shape(callback);
        });
        }

        Game.shape = function(callback){

        Game.geometry = new THREE.TextGeometry(location.search.split('text=')[1], {font: Game.font, size: 1, height: 0.1});
        // Game.geometry = new THREE.BoxGeometry(1, 1, 1);
        Game.material = new THREE.MeshLambertMaterial({ color: 0xFFFFFF });
        Game.mesh = new THREE.Mesh(Game.geometry, Game.material);
        Game.meshBox = new THREE.Box3().setFromObject(Game.mesh);
        console.log(Game.meshBox.size());
        Game.mesh.geometry.translate(-Game.meshBox.size().x/2, - Game.meshBox.size().y/2, -Game.meshBox.size().z/2);
        Game.scene.add(Game.mesh)
        Game.camera.position.z = 5;
        Game.light = new THREE.DirectionalLight(0xffffff, 1);
        Game.light.position.set(0, 0, 5);
        Game.light.target = Game.mesh;
        Game.scene.add(Game.light);
        callback();
        }

        Game.render = function(){
        requestAnimationFrame(Game.render);
        Game.mesh.rotation.y += 0.01;
        Game.camera.lookAt(Game.mesh);
        Game.renderer.render(Game.scene, Game.camera);
        }

        Game.init(Game.render);
    </script>
</body>
</html>